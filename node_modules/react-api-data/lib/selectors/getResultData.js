"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var normalizr_1 = require("normalizr");
var getApiDataRequest_1 = require("./getApiDataRequest");
/**
 * Get the de-normalized result data of an endpoint, or undefined if not (yet) available. This value is automatically
 * bound when using {@link withApiData}.
 */
exports.getResultData = function (apiDataState, endpointKey, params, instanceId) {
    if (instanceId === void 0) { instanceId = ''; }
    var config = apiDataState.endpointConfig[endpointKey];
    if (!config) {
        if (process.env.NODE_ENV === 'development') {
            console.warn("apiData.getResult: configuration of endpoint " + endpointKey + " not found.");
        }
        return;
    }
    var request = getApiDataRequest_1.getApiDataRequest(apiDataState, endpointKey, params, instanceId);
    if (!request) {
        return;
    }
    return request.networkStatus === 'failed'
        ? request.errorBody
        : request.result && (config.responseSchema
            ? normalizr_1.denormalize(request.result, config.responseSchema, apiDataState.entities)
            : request.result);
};
//# sourceMappingURL=getResultData.js.map